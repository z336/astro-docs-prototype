---
import { Picture } from '@astrojs/image/components';

const { src, caption, ...attrs } = Astro.props;

const showCaption = caption === undefined || null ? false : true;
---

<figure>
  <Picture
    src={src}
    widths={[300, 600, 900, 1200]}
    sizes="(max-width: 1200px) 100vw, 1200px"
    {...attrs}
  />
  {showCaption ? <figcaption>{caption}</figcaption> : ''}
</figure>
