---
import { Picture } from '@astrojs/image/components';

const { src, caption, ...attrs } = Astro.props;

console.log(Astro.props);

const showCaption = caption === undefined || null ? false : true;
---

<figure>
  <Picture
    src={src}
    widths={[300, 600, 900]}
    sizes="(max-width: 900px) 100vw, 900px"
    {...attrs}
  />
  {showCaption ? <figcaption>{caption}</figcaption> : ''}
</figure>
