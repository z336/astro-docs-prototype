---
const { headings } = Astro.props;
---

<details>
  <summary>On this page</summary>
  <ul>
    {
      headings.map((heading) => {
        if (heading.depth === 2)
          return (
            <li>
              <a href={`#${heading.slug}`}>{heading.text}</a>
            </li>
          );
        if (heading.depth === 3)
          return (
            <ul>
              <li>
                <a href={`#${heading.slug}`}>{heading.text}</a>
              </li>
            </ul>
          );
      })
    }
  </ul>
</details>
